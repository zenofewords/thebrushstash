{% load static %}
{% load thebrushstash_tags %}

<div class="credit-card-secure-logo-wrapper">
  {% for credit_card_secure_logo in credit_card_secure_logos %}
    <div id="{{ credit_card_secure_logo.location }}" class="credit-card-secure-logo">
      {% render_picture credit_card_secure_logo %}
    </div>
  {% endfor %}

  <div id="mastercard-modal" class="credit-card-secure-modal" hidden>
    <h1>
      Introducing...
      <img src="{% static 'images/secureCode_logo.gif' %}">
      <span class="close-modal-button">
        &times;
      </span>
    </h1>
    <p>
      MasterCard® SecureCode™ is a new service from MasterCard and your card issuer that provides added protection when you buy online. There is no need to get a new MasterCard or Maestro® card. You choose your own personal MasterCard SecureCode and it is never shared with any merchant. A private code means added protection against unauthorized use of your credit or debit card when you shop online.
    </p>
    <p>
      Every time you pay online with your MasterCard or Maestro card, a box pops up from your card issuer asking you for your personal SecureCode, just like the bank does at the ATM. In seconds, your card issuer confirms it's you and allows your purchase to be completed.
    </p>
    <p>
      To find out more about MasterCard SecureCode go to
      <a href="http://www.mastercardsecurecode.com" target="_blank" rel="noopener noreferrer">www.mastercardsecurecode.com</a>.
    </p>
    <img src="{% static 'images/maestro_logo_sm.gif' %}">
    <img src="{% static 'images/mastercard_logo_sm.gif' %}">
  </div>

  <div id="visa-modal" class="credit-card-secure-modal" hidden>
    <h1>
      Introducing...
      <img src="{% static 'images/VerifiedbyVisa.jpg' %}">
      <span class="close-modal-button">
        &times;
      </span>
    </h1>
    <p>
      Verified by Visa is a new service that lets you shop online with added confidence.
    </p>
    <p>
      Through a simple checkout process, Verified by Visa confirms your identity when you make purchases at participating online stores. It's convenient and it works with your existing Visa card.
    </p>
    <p>
      Plus, Verified by Visa is a snap to use. You register your card just once, and create your own password. Then, when you make purchases at participating online stores, a Verified by Visa window will appear. Simply enter your password and click submit. Your identity is verified and the purchase is secure.
    </p>
    <p>
      To activate Verified by Visa in your Visa card, or to learn more, contact the financial institution that issued your Visa card.
    </p>
    <p>
      Click
      <a href="http://www.visaeu.com" target="_blank" rel="noopener noreferrer">www.visaeu.com</a>
      for more information.
    </p>
  </div>
</div>

<style type="text/css">
  .credit-card-secure-logo-wrapper {
    display: flex;
    position: relative;
  }
  .credit-card-secure-logo {
    cursor: pointer;
  }
  .credit-card-secure-logo * {
    pointer-events: none;
  }
  .credit-card-secure-modal {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -55vh);
    background-color: #fff;
    height: fit-content;
    width: 70vw;
    max-width: 600px;
    padding: 25px;
    box-shadow: 1px 1px 3px 1px #999;
  }
  .close-modal-button {
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
  }
</style>

<script type="text/javascript">
  var creditCardSecureLogos = document.getElementsByClassName('credit-card-secure-logo');
  var creditCardSecureModals = document.getElementsByClassName('credit-card-secure-modal')
  var closeModalButtons = document.getElementsByClassName('close-modal-button');

  for (var i = 0; i < creditCardSecureLogos.length; i++) {
    creditCardSecureLogos[i].addEventListener('click', function (event) {
      var clickedModalId = event.target.id + '-modal';

      for (var i = 0; i < creditCardSecureModals.length; i++) {
        if (creditCardSecureModals[i].id !== clickedModalId) {
          creditCardSecureModals[i].hidden = true;
        }
      }

      var modal = document.getElementById(clickedModalId);
      modal.hidden = !modal.hidden;
    });
  }

  for (var i = 0; i < closeModalButtons.length; i++) {
    closeModalButtons[i].addEventListener('click', function (event) {
      for (var i = 0; i < creditCardSecureModals.length; i++) {
        creditCardSecureModals[i].hidden = true;
      }
    });
  }
</script>
